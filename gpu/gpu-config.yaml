# GPU Configuration for PCI Passthrough - H100 SXM5 80GB
#
# lspci -nn | grep -i nvidia 명령으로 확인된 정보:
#   디바이스 ID: 10de:2330
#   H100 SXM5는 Audio device가 없음

# GPU 디바이스 ID (vendor:device 형식)
gpu_device_ids:
  - "10de:2330"  # NVIDIA H100 SXM5 80GB

# GPU PCI 주소 목록 (lspci 출력에서 확인)
# 형식: 0000:bus:slot.function
gpus:y
  # Worker 1에 할당될 GPU (인덱스 0-3)
  - pci_address: "0000:0a:00.0"
  - pci_address: "0000:18:00.0"
  - pci_address: "0000:3a:00.0"
  - pci_address: "0000:43:00.0"
  
  # Worker 2에 할당될 GPU (인덱스 4-7)
  - pci_address: "0000:87:00.0"
  - pci_address: "0000:90:00.0"
  - pci_address: "0000:b9:00.0"
  - pci_address: "0000:c2:00.0"

# Worker별 GPU 할당 (GPU 인덱스 기반)
worker_gpu_assignment:
  worker-1: [0, 1, 2, 3]
  worker-2: [4, 5, 6, 7]

# VM 리소스 설정
vm_resources:
  control_plane:
    memory: 8192   # MB
    cpus: 4
  worker:
    memory: 65536  # 64GB (H100 워크로드용)
    cpus: 16
